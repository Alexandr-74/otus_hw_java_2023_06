<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Пользователи</title>
    <script>
        function getUserById() {
            const userIdTextBox = document.getElementById('userIdTextBox');
            const userDataContainer = document.getElementById('userDataContainer');
            const id = userIdTextBox.value;
            //fetch('api/user?id=' + id)
            fetch('api/client/' + id)
                .then(function(response) {
                    // The response is a Response instance.
                    // You parse the data into a useable format using `.json()`
                    return response.json();
                }) .then(user => userDataContainer.innerHTML = JSON.stringify(user))
                .then(function(data) {
                // `data` is the parsed version of the JSON returned from the above endpoint.
                console.log(data);  // { "userId": 1, "id": 1, "title": "...", "body": "..." }
                });
        }
    </script>

    <script>
        function getAllUsers() {
            const userIdTextBox = document.getElementById('usersTextBox');
            const userDataContainer = document.getElementById('usersDataContainer');
            //fetch('api/user?id=' + id)
            fetch('api/clients/')
                .then(function(response) {
                    // The response is a Response instance.
                    // You parse the data into a useable format using `.json()`
                    return response.json();
                }) .then(users => userDataContainer.innerHTML = JSON.stringify(users))
                .then(function(data) {
                    // `data` is the parsed version of the JSON returned from the above endpoint.
                    console.log(data);  // { "userId": 1, "id": 1, "title": "...", "body": "..." }
                });
        }
    </script>
</head>

<body>
<section>
    <h4>Сохранить клиента</h4>
    <form action="create-client" method="post" enctype="application/x-www-form-urlencoded" accept-charset="utf-8">
        <p><b>Введите данные клиента</b></p>
            <input type="text" name="name" placeholder="Введите имя">
            <input type="text" name="street" placeholder="Введите улицу">
            <input type="text" name="phone" placeholder="Введите номер телефона">
            <input type="text" name="login" placeholder="Введите логин клиента">
            <input type="text" name="password" placeholder="Введите пароль клиента">
        <p><input type="submit"></p>
    </form>
</section>
<section>
    <h4>Получить пользователя по id</h4>
    <input type="text" id = "userIdTextBox" value="3" placeholder="Введите id пользователя">
    <button onclick="getUserById()">Получить</button>
    <pre id = "userDataContainer"></pre>
</section>
<section>
    <h4>Получить всех пользователей</h4>
    <button onclick="getAllUsers()">Получить</button>
    <pre id = "usersDataContainer"></pre>
</section>
</body>
</html>
